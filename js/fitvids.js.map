{"version":3,"sources":["source/js/fitvids.js"],"names":["$","fn","fitVids","options","settings","customSelector","div","document","createElement","ref","getElementsByTagName","className","innerHTML","parentNode","insertBefore","extend","each","selectors","push","$allVideos","find","join","$this","tagName","toLowerCase","parent","length","height","attr","width","aspectRatio","videoID","Math","floor","random","wrap","css","removeAttr","jQuery"],"mappings":"AAAA;;AACA;;;;;;;;;AAUA,CAAC,UAASA,CAAT,EAAY;AACXA,EAAAA,CAAC,CAACC,EAAF,CAAKC,OAAL,GAAe,UAASC,OAAT,EAAkB;AAC/B,QAAIC,QAAQ,GAAG;AACbC,MAAAA,cAAc,EAAE;AADH,KAAf;AAIA,QAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AAAA,QACEC,GAAG,GACDF,QAAQ,CAACG,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,KACAH,QAAQ,CAACG,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAHJ;AAKAJ,IAAAA,GAAG,CAACK,SAAJ,GAAgB,gBAAhB;AACAL,IAAAA,GAAG,CAACM,SAAJ,GACE;;;;;;;;;;;;;;;;aADF;AAmBAH,IAAAA,GAAG,CAACI,UAAJ,CAAeC,YAAf,CAA4BR,GAA5B,EAAiCG,GAAjC;;AAEA,QAAIN,OAAJ,EAAa;AACXH,MAAAA,CAAC,CAACe,MAAF,CAASX,QAAT,EAAmBD,OAAnB;AACD;;AAED,WAAO,KAAKa,IAAL,CAAU,YAAW;AAC1B,UAAIC,SAAS,GAAG,CACd,iCADc,EAEd,gCAFc,EAGd,oCAHc,EAId,QAJc,EAKd,OALc,CAAhB;;AAQA,UAAIb,QAAQ,CAACC,cAAb,EAA6B;AAC3BY,QAAAA,SAAS,CAACC,IAAV,CAAed,QAAQ,CAACC,cAAxB;AACD;;AAED,UAAIc,UAAU,GAAGnB,CAAC,CAAC,IAAD,CAAD,CAAQoB,IAAR,CAAaH,SAAS,CAACI,IAAV,CAAe,GAAf,CAAb,CAAjB;AAEAF,MAAAA,UAAU,CAACH,IAAX,CAAgB,YAAW;AACzB,YAAIM,KAAK,GAAGtB,CAAC,CAAC,IAAD,CAAb;;AACA,YACG,KAAKuB,OAAL,CAAaC,WAAb,MAA8B,OAA9B,IACCF,KAAK,CAACG,MAAN,CAAa,QAAb,EAAuBC,MADzB,IAEAJ,KAAK,CAACG,MAAN,CAAa,4BAAb,EAA2CC,MAH7C,EAIE;AACA;AACD;;AACD,YAAIC,MAAM,GACN,KAAKJ,OAAL,CAAaC,WAAb,MAA8B,QAA9B,IAA0CF,KAAK,CAACM,IAAN,CAAW,QAAX,CAA1C,GACIN,KAAK,CAACM,IAAN,CAAW,QAAX,CADJ,GAEIN,KAAK,CAACK,MAAN,EAHR;AAAA,YAIEE,KAAK,GAAGP,KAAK,CAACM,IAAN,CAAW,OAAX,IAAsBN,KAAK,CAACM,IAAN,CAAW,OAAX,CAAtB,GAA4CN,KAAK,CAACO,KAAN,EAJtD;AAAA,YAKEC,WAAW,GAAGH,MAAM,GAAGE,KALzB;;AAMA,YAAI,CAACP,KAAK,CAACM,IAAN,CAAW,IAAX,CAAL,EAAuB;AACrB,cAAIG,OAAO,GAAG,WAAWC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,MAA3B,CAAzB;AACAZ,UAAAA,KAAK,CAACM,IAAN,CAAW,IAAX,EAAiBG,OAAjB;AACD;;AACDT,QAAAA,KAAK,CACFa,IADH,CACQ,+CADR,EAEGV,MAFH,CAEU,4BAFV,EAGGW,GAHH,CAGO,aAHP,EAGsBN,WAAW,GAAG,GAAd,GAAoB,GAH1C;AAIAR,QAAAA,KAAK,CAACe,UAAN,CAAiB,QAAjB,EAA2BA,UAA3B,CAAsC,OAAtC;AACD,OAxBD;AAyBD,KAxCM,CAAP;AAyCD,GA7ED;AA8ED,CA/ED,EA+EGC,MA/EH","sourcesContent":["/*global jQuery */\n/*!\n* FitVids 1.0\n*\n* Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n* Date: Thu Sept 01 18:00:00 2011 -0500\n*/\n\n(function($) {\n  $.fn.fitVids = function(options) {\n    var settings = {\n      customSelector: null,\n    };\n\n    var div = document.createElement('div'),\n      ref =\n        document.getElementsByTagName('base')[0] ||\n        document.getElementsByTagName('script')[0];\n\n    div.className = 'fit-vids-style';\n    div.innerHTML =\n      '&shy;<style>         \\\n      .fluid-width-video-wrapper {        \\\n         width: 100%;                     \\\n         position: relative;              \\\n         padding: 0;                      \\\n      }                                   \\\n                                          \\\n      .fluid-width-video-wrapper iframe,  \\\n      .fluid-width-video-wrapper object,  \\\n      .fluid-width-video-wrapper embed {  \\\n         position: absolute;              \\\n         top: 0;                          \\\n         left: 0;                         \\\n         width: 100%;                     \\\n         height: 100%;                    \\\n      }                                   \\\n    </style>';\n\n    ref.parentNode.insertBefore(div, ref);\n\n    if (options) {\n      $.extend(settings, options);\n    }\n\n    return this.each(function() {\n      var selectors = [\n        \"iframe[src*='player.vimeo.com']\",\n        \"iframe[src*='www.youtube.com']\",\n        \"iframe[src*='www.kickstarter.com']\",\n        'object',\n        'embed',\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n\n      $allVideos.each(function() {\n        var $this = $(this);\n        if (\n          (this.tagName.toLowerCase() == 'embed' &&\n            $this.parent('object').length) ||\n          $this.parent('.fluid-width-video-wrapper').length\n        ) {\n          return;\n        }\n        var height =\n            this.tagName.toLowerCase() == 'object' || $this.attr('height')\n              ? $this.attr('height')\n              : $this.height(),\n          width = $this.attr('width') ? $this.attr('width') : $this.width(),\n          aspectRatio = height / width;\n        if (!$this.attr('id')) {\n          var videoID = 'fitvid' + Math.floor(Math.random() * 999999);\n          $this.attr('id', videoID);\n        }\n        $this\n          .wrap('<div class=\"fluid-width-video-wrapper\"></div>')\n          .parent('.fluid-width-video-wrapper')\n          .css('padding-top', aspectRatio * 100 + '%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n})(jQuery);\n"],"file":"fitvids.js"}